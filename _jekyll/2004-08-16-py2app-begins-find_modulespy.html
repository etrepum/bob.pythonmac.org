---
categories: [python, py2app]
category: archives
layout: post
tags: []
title: 'py2app begins: find_modules.py'
---
{% include JB/setup %}

{% raw %}
<!-- -*- mode: rst -*- -->
<!-- original id: P66 -->
<p>I started ripping apart <a class="reference external" href="http://starship.python.net/crew/theller/py2exe/">py2exe</a> to see what tasty little chunks could be used in py2app (its evil Mac OS X clone-to-be).  It seems like a lot of <a class="reference external" href="http://starship.python.net/crew/theller/py2exe/">py2exe</a> is almost cross-platform-ish, but most of the logic is just in one huge Python script.</p>
<p>So far the only working code I have is the <a class="reference external" href="http://epydoc.sourceforge.net/stdlib/public/modulefinder-module.html">modulefinder</a> based code, plus a whole bunch of hacks to ignore modules that should be ignored.  The result is <a class="reference external" href="http://svn.red-bean.com/bob/py2app/trunk/py2app/find_modules.py">find_modules.py</a>, which is almost 400 lines long and should be totally cross-platform-ish (far more so than <a class="reference external" href="http://starship.python.net/crew/theller/py2exe/">py2exe</a>, anyway).  Basically it knows how to ignore a non-definitive list of platform specific modules based upon which platform you're currently using.</p>
<p>Perhaps at some point this little ugly monster could be shared between several packaging projects (<a class="reference external" href="http://starship.python.net/crew/theller/py2exe/">py2exe</a>, py2app, <a class="reference external" href="http://starship.python.net/crew/atuining/cx_Freeze/">cx_Freeze</a>, etc.)?  I'm not sure if it can go into <a class="reference external" href="http://starship.python.net/crew/theller/py2exe/">py2exe</a> as-is, because I used a bunch of Python 2.3+ features.</p>
{% endraw %}
